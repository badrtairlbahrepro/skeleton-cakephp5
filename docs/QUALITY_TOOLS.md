# üìö Documentation Compl√®te - Outils de Qualit√© du Code

## üéØ Table des Mati√®res

1. [Introduction](#introduction)
2. [Qu'est-ce que la Qualit√© du Code ?](#quest-ce-que-la-qualit√©-du-code)
3. [Les Outils Install√©s](#les-outils-install√©s)
4. [Configuration D√©tails](#configuration-d√©tails)
5. [Comment Utiliser ?](#comment-utiliser)
6. [Les Tests - Guide Complet](#les-tests-guide-complet)
7. [Troubleshooting](#troubleshooting)
8. [Bonnes Pratiques](#bonnes-pratiques)

---

## üåü Introduction

### Pourquoi des Outils de Qualit√© ?

Imagine que vous construisez une maison. Vous ne vous contentez pas de la construire, vous v√©rifiez aussi que :
- Les murs sont droits
- Les portes ferment bien
- L'√©lectricit√© fonctionne
- Le toit ne fuit pas

C'est pareil pour le code ! Les outils de qualit√© v√©rifient que votre code :
- ‚úÖ Fonctionne correctement (tests)
- ‚úÖ Respecte les bonnes pratiques (style)
- ‚úÖ N'a pas d'erreurs cach√©es (analyse statique)
- ‚úÖ Est facile √† comprendre (bonne organisation)

### Les 3 Outils Principaux

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   PHPUnit       ‚îÇ ‚Üí Les tests : v√©rifie que tout fonctionne
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   PHPStan       ‚îÇ ‚Üí L'analyse : d√©tecte les erreurs potentielles
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ CodeSniffer     ‚îÇ ‚Üí Le style : uniformise le code
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## ü§î Qu'est-ce que la Qualit√© du Code ?

### Le Code "Sale" vs le Code "Propre"

#### üö´ Code Sale (√† √©viter)
```php
// Pas d'espace apr√®s les virgules
function add($a,$b){return $a+$b;}

// Variables sans noms clairs
$x=$y+$z;

// Pas de v√©rification d'erreur
$result=divide(10, 0); // Crash !
```

#### ‚úÖ Code Propre
```php
// Espaces corrects
function add(int $a, int $b): int 
{
    return $a + $b;
}

// Noms clairs
$total = $prix + $taxe;

// Gestion des erreurs
if ($diviseur != 0) {
    $result = divide(10, $diviseur);
} else {
    throw new Exception('Division par z√©ro !');
}
```

### Les 3 Pilliers de la Qualit√©

1. **Fonctionnel** ‚Üí √áa marche
2. **Lisible** ‚Üí Facile √† comprendre
3. **Maintenable** ‚Üí Facile √† modifier

---

## üõ†Ô∏è Les Outils Install√©s

### 1. PHPUnit - Les Tests

**R√¥le :** V√©rifie que votre code fait bien ce qu'il doit faire.

**Exemple :**
```php
// Votre code
function addition(int $a, int $b): int 
{
    return $a + $b;
}

// Test PHPUnit
public function testAddition(): void
{
    $result = addition(2, 3);
    $this->assertEquals(5, $result); // ‚úÖ √áa marche !
}
```

**Pourquoi c'est important :**
- Vous savez imm√©diatement si quelque chose casse
- Vous pouvez modifier votre code en confiance
- Les tests sont comme une documentation vivante

### 2. PHPStan - L'Analyseur Statique

**R√¥le :** Trouve les erreurs AVANT de lancer votre code.

**Exemple :**
```php
// ‚ùå Probl√®me d√©tect√© par PHPStan
function divide($a, $b) 
{
    return $a / $b; // $b pourrait √™tre 0 !
}

// ‚úÖ Correction
function divide(int $a, int $b): int 
{
    if ($b === 0) {
        throw new InvalidArgumentException('Division par z√©ro');
    }
    return $a / $b;
}
```

**Pourquoi c'est important :**
- D√©tecte 90% des bugs avant qu'ils n'arrivent
- Force √† √©crire du code plus s√ªr
- √âvite les erreurs en production

### 3. PHP_CodeSniffer - Le Nettoyeur de Code

**R√¥le :** Uniformise le style du code dans tout le projet.

**Exemple :**
```php
// ‚ùå Avant (incoh√©rent)
function test($a,$b){
return $a+$b;
}

// ‚úÖ Apr√®s (uniforme)
function test(int $a, int $b): int
{
    return $a + $b;
}
```

**Pourquoi c'est important :**
- Tout le monde √©crit de la m√™me fa√ßon
- Le code est plus facile √† lire
- Collaboration simplifi√©e

---

## ‚öôÔ∏è Configuration D√©tails

### Structure des Fichiers

```
votre-projet/
‚îú‚îÄ‚îÄ phpunit.xml.dist         ‚Üí Config PHPUnit (tests)
‚îú‚îÄ‚îÄ phpstan.neon            ‚Üí Config PHPStan (analyse)
‚îú‚îÄ‚îÄ phpstan-baseline.neon   ‚Üí Baseline PHPStan (erreurs ignor√©es)
‚îú‚îÄ‚îÄ .php-cs-fixer.dist.php  ‚Üí Config PHP-CS-Fixer (style)
‚îî‚îÄ‚îÄ composer.json            ‚Üí Commandes disponibles
```

### 1. PHPUnit Configuration (`phpunit.xml.dist`)

#### C'est quoi ?
Le fichier qui dit √† PHPUnit o√π trouver vos tests.

#### Configuration Cl√©

```xml
<phpunit>
    <!-- Dossier des tests -->
    <testsuites>
        <testsuite name="Application Test Suite">
            <directory>tests/TestCase</directory>
        </testsuite>
    </testsuites>
    
    <!-- Dossiers √† ignorer -->
    <exclude>
        <directory>tests/TestCase/Application/Command</directory>
    </exclude>
</phpunit>
```

#### Pourquoi ?
- **`<testsuites>`** : Dit √† PHPUnit o√π sont vos tests
- **`<exclude>`** : Ignore certains dossiers (ex: commandes CLI)

#### Comment Tester ?
```bash
# Lancer tous les tests
composer test

# Lancer un test sp√©cifique
./vendor/bin/phpunit tests/TestCase/Domain/User/Entity/UserTest.php
```

---

### 2. PHPStan Configuration (`phpstan.neon`)

#### C'est quoi ?
Le fichier qui configure l'analyseur PHPStan.

#### Configuration D√©taill√©e

```yaml
parameters:
    # Niveau d'analyse (0 = tr√®s basique, 9 = maximal)
    level: 8
    
    # Dossiers √† analyser
    paths:
        - src
    
    # Dossiers √† ignorer
    excludePaths:
        - src/**/config/*
    
    # Dossier temporaire
    tmpDir: tmp/phpstan

# Fichiers suppl√©mentaires
includes:
    - phpstan-baseline.neon  # Ignore les erreurs existantes
```

#### Explication des Param√®tres

**`level: 8`** - Niveau d'analyse
```
Level 0: Erreurs √©videntes (ex: variable non d√©finie)
Level 1: Types de base
Level 5: Types complexes
Level 8: Analyse tr√®s pouss√©e (notre niveau)
Level 9: Analyse maximale (peut √™tre trop strict)
```

**Pourquoi Level 8 ?**
- Pas trop strict pour un projet en cours
- Assez strict pour d√©tecter les vrais probl√®mes
- Bon √©quilibre entre s√©curit√© et praticit√©

**`excludePaths`** - Dossiers √† ignorer
```yaml
excludePaths:
    - src/**/config/*  # Les fichiers de config CakePHP
```
‚Üí Ces fichiers sont g√©n√©r√©s automatiquement, pas besoin de les analyser

**`includes: phpstan-baseline.neon`** - Le Baseline
```yaml
includes:
    - phpstan-baseline.neon
```
‚Üí Ignore les erreurs existantes, mais d√©tecte les nouvelles

**Comment √ßa marche ?**
1. Premi√®re analyse : 105 erreurs trouv√©es
2. Baseline g√©n√©r√©e : ces erreurs sont ignor√©es
3. Prochaines analyses : seules les NOUVELLES erreurs sont signal√©es

**Pourquoi un Baseline ?**
- On ne peut pas tout corriger d'un coup
- On se concentre sur les nouveaux probl√®mes
- Projet existant = baseline n√©cessaire

---

### 3. PHP-CS-Fixer Configuration (`.php-cs-fixer.dist.php`)

#### C'est quoi ?
Le fichier qui dit comment formater votre code automatiquement.

#### Configuration D√©taill√©e

```php
<?php

// Dossiers √† formater
$finder = PhpCsFixer\Finder::create()
    ->in(__DIR__)              // Racine du projet
    ->exclude('vendor')        // Ignore vendor
    ->exclude('tmp')           // Ignore tmp
    ->name('*.php');           // Seulement les .php

// R√®gles √† appliquer
$config = new PhpCsFixer\Config();
return $config
    ->setRules([
        '@PSR12' => true,      // Standard PSR-12
        'single_quote' => true, // Guillemets simples
        'array_syntax' => ['syntax' => 'short'], // array() ‚Üí []
        // ... autres r√®gles
    ])
    ->setFinder($finder);
```

#### R√®gles Importantes

**`@PSR12`** - Standard PHP
```php
// ‚ùå Avant
function test(){
return $a;
}

// ‚úÖ Apr√®s
function test(): void
{
    return $a;
}
```

**`single_quote`** - Guillemets simples
```php
// ‚ùå Avant
echo "Hello World";

// ‚úÖ Apr√®s
echo 'Hello World'; // Plus rapide
```

**`array_syntax`** - Syntaxe courte
```php
// ‚ùå Avant
$arr = array('a', 'b');

// ‚úÖ Apr√®s
$arr = ['a', 'b']; // Plus moderne
```

---

## üöÄ Comment Utiliser ?

### Commandes Disponibles

#### 1. Tester le Code

```bash
# Lancer tous les tests
composer test

# R√©sultat attendu
OK (25 tests, 65 assertions)
```

**Quand l'utiliser ?**
- Avant de commit du code
- Apr√®s avoir modifi√© une fonction
- Avant de d√©ployer en production

#### 2. Analyser le Code (PHPStan)

```bash
# Analyser le code
composer stan

# R√©sultat attendu
[OK] No errors
```

**Quand l'utiliser ?**
- Apr√®s avoir √©crit du nouveau code
- Quand vous avez des doutes sur votre code
- Avant une release

#### 3. V√©rifier le Style

```bash
# V√©rifier le style
composer cs-check

# R√©sultat attendu
No sniff violations found
```

**Quand l'utiliser ?**
- Avant chaque commit
- Quand vous voyez du code avec un style diff√©rent

#### 4. Corriger Automatiquement le Style

```bash
# Corriger le style
composer cs-fix

# R√©sultat attendu
A TOTAL OF 149 ERRORS WERE FIXED IN 22 FILES
```

**Quand l'utiliser ?**
- Quand `cs-check` trouve des erreurs
- Quand vous copiez du code d'ailleurs
- Avant de commit

#### 5. Tout V√©rifier en Une Fois

```bash
# Tests + Qualit√©
composer check

# R√©sultat attendu
OK (25 tests, 65 assertions)
No errors
```

**Quand l'utiliser ?**
- Avant un d√©ploiement
- √Ä la fin de chaque journ√©e
- Avant une pull request

---

## üß™ Les Tests - Guide Complet

### Qu'est-ce qu'un Test ?

Un test est une fonction qui v√©rifie que votre code fonctionne.

**Exemple Simple :**
```php
public function testAddition(): void
{
    // Arrange : Pr√©parer
    $a = 2;
    $b = 3;
    
    // Act : Ex√©cuter
    $result = $a + $b;
    
    // Assert : V√©rifier
    $this->assertEquals(5, $result);
}
```

### Structure d'un Test

Chaque test suit le pattern **AAA** :

1. **Arrange** (Pr√©parer) - Mettre en place les donn√©es
2. **Act** (Agir) - Ex√©cuter la fonction test√©e
3. **Assert** (V√©rifier) - V√©rifier le r√©sultat

**Exemple D√©taill√© :**
```php
public function testCreateUser(): void
{
    // ARRANGE - Pr√©parer les donn√©es
    $email = 'john@example.com';
    $name = 'John Doe';
    
    // ACT - Ex√©cuter le code √† tester
    $user = new User($email, $name);
    
    // ASSERT - V√©rifier le r√©sultat
    $this->assertEquals($email, $user->getEmail());
    $this->assertEquals($name, $user->getName());
}
```

### Les Tests du Projet

#### 1. Test d'Entit√© (`UserTest.php`)

**Fichier :** `tests/TestCase/Domain/User/Entity/UserTest.php`

**R√¥le :** V√©rifie que l'entit√© User fonctionne correctement.

**Tests Inclus :**

```php
// Test 1: Cr√©er un utilisateur avec des donn√©es valides
public function testCreateUserWithValidData(): void
{
    $user = new User('john@example.com', 'John Doe');
    
    $this->assertEquals('john@example.com', $user->getEmail());
    $this->assertEquals('John Doe', $user->getName());
}
```
**√Ä quoi √ßa sert ?** V√©rifie que la cr√©ation d'utilisateur fonctionne.

```php
// Test 2: Cr√©er avec un email invalide
public function testCreateUserWithInvalidEmail(): void
{
    $this->expectException(InvalidArgumentException::class);
    $this->expectExceptionMessage('Format d\'email invalide');
    
    new User('not-an-email', 'John Doe');
}
```
**√Ä quoi √ßa sert ?** V√©rifie que les emails invalides sont refus√©s.

```php
// Test 3: Cr√©er avec un nom trop court
public function testCreateUserWithNameTooShort(): void
{
    $this->expectException(InvalidArgumentException::class);
    $this->expectExceptionMessage('Le nom doit comporter au moins 2 caract√®res');
    
    new User('john@example.com', 'A');
}
```
**√Ä quoi √ßa sert ?** V√©rifie que les noms trop courts sont refus√©s.

---

#### 2. Test de Cas d'Usage (`CreateUserUseCaseTest.php`)

**Fichier :** `tests/TestCase/Application/UseCases/User/CreateUserUseCaseTest.php`

**R√¥le :** V√©rifie que le cas d'usage de cr√©ation d'utilisateur fonctionne.

**Ce qui est Test√© :**

**Test 1: Cr√©er un utilisateur avec succ√®s**
```php
public function testCreateUserSuccessfully(): void
{
    // Pr√©parer
    $email = 'john@example.com';
    $name = 'John Doe';
    
    // Simuler le repository
    $this->repositoryMock
        ->expects($this->once())
        ->method('findByEmail')
        ->willReturn(null); // L'utilisateur n'existe pas
    
    $this->repositoryMock
        ->expects($this->once())
        ->method('save')
        ->willReturn(new User($email, $name, 1));
    
    // Ex√©cuter
    $result = $this->useCase->execute($email, $name);
    
    // V√©rifier
    $this->assertEquals($email, $result->getEmail());
    $this->assertEquals(1, $result->getId());
}
```
**√Ä quoi √ßa sert ?** 
- V√©rifie que la cr√©ation fonctionne
- V√©rifie que le repository est appel√© correctement

**Test 2: Cr√©er avec un email d√©j√† existant**
```php
public function testCreateUserWithDuplicateEmail(): void
{
    $email = 'john@example.com';
    
    // Simuler un utilisateur existant
    $existingUser = new User($email, 'Existing', 1);
    $this->repositoryMock
        ->method('findByEmail')
        ->willReturn($existingUser); // L'utilisateur existe !
    
    // Attendre une exception
    $this->expectException(RuntimeException::class);
    $this->expectExceptionMessage('Utilisateur avec cet email existe d√©j√†');
    
    // Ex√©cuter
    $this->useCase->execute($email, 'John Doe');
}
```
**√Ä quoi √ßa sert ?**
- V√©rifie qu'on ne peut pas cr√©er 2 utilisateurs avec le m√™me email
- V√©rifie que la bonne exception est lanc√©e

---

#### 3. Test de Cas d'Usage (`GetUserUseCaseTest.php`)

**Fichier :** `tests/TestCase/Application/UseCases/User/GetUserUseCaseTest.php`

**R√¥le :** V√©rifie que la r√©cup√©ration d'utilisateur fonctionne.

**Tests Inclus :**

**Test 1: R√©cup√©rer un utilisateur par ID**
```php
public function testGetUserByIdSuccessfully(): void
{
    $userId = 1;
    $expectedUser = new User('john@example.com', 'John Doe', $userId);
    
    $this->repositoryMock
        ->method('findById')
        ->with($userId)
        ->willReturn($expectedUser);
    
    $result = $this->useCase->execute($userId);
    
    $this->assertEquals($userId, $result->getId());
    $this->assertEquals('john@example.com', $result->getEmail());
}
```
**√Ä quoi √ßa sert ?** V√©rifie qu'on peut r√©cup√©rer un utilisateur existant.

**Test 2: R√©cup√©rer un utilisateur inexistant**
```php
public function testGetUserNotFound(): void
{
    $this->repositoryMock
        ->method('findById')
        ->willReturn(null); // Utilisateur inexistant
    
    $this->expectException(RuntimeException::class);
    $this->expectExceptionMessage('Utilisateur non trouv√©');
    
    $this->useCase->execute(999);
}
```
**√Ä quoi √ßa sert ?** V√©rifie qu'une exception est lanc√©e si l'utilisateur n'existe pas.

---

### Les Mocks (Simulation)

#### Qu'est-ce qu'un Mock ?

Un **mock** est un objet factice qui simule le comportement d'un vrai objet.

**Pourquoi utiliser des Mocks ?**
- On ne veut pas tester la base de donn√©es
- On veut isoler la fonction test√©e
- On veut contr√¥ler les r√©sultats

**Exemple :**
```php
// Au lieu de cette ligne (appel r√©el)
$repository->findByEmail('john@example.com');

// On utilise un mock
$this->repositoryMock
    ->method('findByEmail')
    ->willReturn(new User(...)); // On contr√¥le le r√©sultat
```

#### Comment Cr√©er un Mock

```php
// 1. Cr√©er le mock dans setUp()
protected function setUp(): void
{
    $this->repositoryMock = $this->createMock(UserRepositoryInterface::class);
    $this->useCase = new CreateUserUseCase($this->repositoryMock);
}

// 2. Configurer le mock dans chaque test
public function testSomething(): void
{
    // Configuration
    $this->repositoryMock
        ->expects($this->once())        // Combien de fois ?
        ->method('findByEmail')         // Quelle m√©thode ?
        ->with('john@example.com')      // Avec quels param√®tres ?
        ->willReturn($existingUser);    // Quel r√©sultat ?
    
    // Ex√©cution
    $this->useCase->execute(...);
}
```

#### Options `expects()`

```php
// Exemple
->expects($this->once())      // Une seule fois
->expects($this->never())     // Jamais
->expects($this->atLeast(2))  // Au moins 2 fois
```

---

## üîß Troubleshooting

### Probl√®mes Courants

#### 1. Test Fail (√âchec)

**Message :**
```
Failed asserting that 2 matches expected 5.
```

**Pourquoi ?**
La valeur retourn√©e ne correspond pas √† celle attendue.

**Solution :**
```php
// V√©rifier la valeur attendue
$this->assertEquals(5, $result);

// V√©rifier aussi le type
$this->assertSame(5, $result); // V√©rifie aussi le type

// D√©boguer
var_dump($result); // Voir la valeur r√©elle
```

#### 2. Mock Ne Fonctionne Pas

**Message :**
```
Method expects at least 1 call, but it was called 0 times.
```

**Pourquoi ?**
Le code n'appelle pas la m√©thode mock√©e.

**Solution :**
```php
// V√©rifier que la m√©thode est appel√©e
$this->repositoryMock
    ->expects($this->once())  // V√©rifie qu'elle est appel√©e
    ->method('save');

// Ou lancer le code qui devrait l'appeler
$this->useCase->execute($email, $name);
```

#### 3. PHPStan Trouve Trop d'Erreurs

**Message :**
```
Found 105 errors
```

**Pourquoi ?**
Beaucoup d'erreurs existantes dans le code.

**Solution :**
```bash
# G√©n√©rer un baseline
composer stan-baseline

# Les anciennes erreurs sont ignor√©es
# Seules les nouvelles seront signal√©es
```

#### 4. CodeSniffer Ne Corrige Pas Tout

**Message :**
```
[ ] Line exceeds 120 characters
```

**Pourquoi ?**
Certaines r√®gles ne peuvent pas √™tre corrig√©es automatiquement.

**Solution :**
```php
// Avant (120+ caract√®res)
$result = $this->repository->findByEmail('verylongemail@verylongdomainname.com');

// Apr√®s (court)
$email = 'verylongemail@verylongdomainname.com';
$result = $this->repository->findByEmail($email);
```

---

## üí° Bonnes Pratiques

### Pour √âcrire de Bons Tests

#### ‚úÖ √Ä FAIRE

1. **Un test = Un comportement**
```php
// ‚úÖ BON - Un test, un comportement
public function testEmailValidation(): void { ... }
public function testNameValidation(): void { ... }

// ‚ùå MAUVAIS - Un test, tout m√©lang√©
public function testUser(): void {
    // Teste email, nom, date, etc.
}
```

2. **Nommer clairement les tests**
```php
// ‚úÖ BON - Clair
testCreateUserWithInvalidEmail
testUserCannotBeCreatedWithEmptyName

// ‚ùå MAUVAIS - Pas clair
test1
testUser
testSomething
```

3. **Utiliser le pattern AAA**
```php
// Arrange
$user = new User(...);

// Act
$result = $user->getEmail();

// Assert
$this->assertEquals('john@example.com', $result);
```

4. **Tester les cas limites**
```php
// Teste les cas normaux
testCreateUserWithValidData()

// Teste aussi les cas limites
testCreateUserWithEmptyName()
testCreateUserWithNameTooLong()
testCreateUserWithSpecialCharacters()
```

#### ‚ùå √Ä √âVITER

1. **Tests qui d√©pendent d'autres tests**
```php
// ‚ùå MAUVAIS - Le test 2 d√©pend du test 1
public function testCreateUser(): void {
    $this->userId = 1; // Variable globale
}

public function testGetUser(): void {
    $this->useCase->execute($this->userId); // D√©pend du test 1
}
```

2. **Tests sans assertions**
```php
// ‚ùå MAUVAIS - Ne teste rien
public function testSomething(): void {
    $user = new User('john@example.com', 'John');
    // Pas d'assertion !
}
```

3. **Tests qui touchent la base de donn√©es**
```php
// ‚ùå MAUVAIS - Lent et fragile
public function testCreateUser(): void {
    $repo = new UserRepository(); // Repository r√©el
    $user = $repo->save(new User(...)); // Enregistre en DB
}
```

4. **Donn√©es de test bizarres**
```php
// ‚ùå MAUVAIS - Pas r√©aliste
$email = 'a@b.c';
$name = 'x';

// ‚úÖ BON - R√©aliste
$email = 'john@example.com';
$name = 'John Doe';
```

---

## üìä R√©sum√© Visuel

### Workflow Complet

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  1. √âcrire le code                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  2. Lancer composer check                        ‚îÇ
‚îÇ     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ     ‚îÇ Tests PHPUnit ‚Üí 25/25 ‚úÖ            ‚îÇ     ‚îÇ
‚îÇ     ‚îÇ PHPStan      ‚Üí 0 erreur ‚úÖ          ‚îÇ     ‚îÇ
‚îÇ     ‚îÇ CodeSniffer  ‚Üí Pas d'erreur ‚úÖ      ‚îÇ     ‚îÇ
‚îÇ     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  3. Commit et Push                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Commandes Essentielles

| Commande | Quand l'utiliser ? | Que fait-elle ? |
|----------|-------------------|-----------------|
| `composer test` | Avant commit | Lance les tests |
| `composer stan` | Apr√®s nouveaux code | Analyse le code |
| `composer cs-check` | Avant commit | V√©rifie le style |
| `composer cs-fix` | Apr√®s cs-check | Corrige le style |
| `composer check` | Avant push | Tout v√©rifier |

---

## üéì Conclusion

### Ce que Vous Avez Appris

‚úÖ **Tests** - V√©rifier que le code fonctionne
‚úÖ **PHPStan** - D√©tecter les erreurs
‚úÖ **CodeSniffer** - Uniformiser le style
‚úÖ **Commandes** - Comment tout utiliser
‚úÖ **Bonnes Pratiques** - √âcrire de bons tests

### Prochaines √âtapes

1. üî® **Pratiquer** - Lancez `composer check` r√©guli√®rement
2. üìö **Lire** - Consultez les tests existants comme exemples
3. ‚úçÔ∏è **√âcrire** - Commencez par des tests simples
4. ü§ù **Partager** - Demandez des avis sur vos tests

### Ressources Utiles

- [Documentation PHPUnit](https://phpunit.de/documentation.html)
- [Documentation PHPStan](https://phpstan.org/user-guide/getting-started)
- [PSR-12 Standard](https://www.php-fig.org/psr/psr-12/)

---

## üí¨ Questions Fr√©quentes

### Q: Pourquoi mes tests √©chouent ?
**R:** V√©rifiez que vous avez bien modifi√© le code test√©. Lancez `composer test` pour voir l'erreur exacte.

### Q: PHPStan trouve trop d'erreurs, que faire ?
**R:** Utilisez `composer stan-baseline` pour ignorer les erreurs existantes. Les nouvelles seront quand m√™me d√©tect√©es.

### Q: Je ne comprends pas un test, comment faire ?
**R:** Lisez les commentaires dans le fichier de test. Les noms de test expliquent aussi ce qui est test√©.

### Q: Dois-je tester absolument tout ?
**R:** Pas forc√©ment. Concentrez-vous sur la logique m√©tier importante. Les getters/setters simples n'ont pas besoin de tests.

---

**Bonne chance dans vos tests ! üöÄ**
